#--- create Analytics
resource "oci_core_analytics_instance" "{{ resource_name }}" {

    #Required
    compartment_id = {{ compartment_id }}
    name   = {{ display_name | safe }}
    capacity_type = {{ capacity_type | safe }}
    capacity_value = {{ capacity_value | safe }}
    feature_set = {{ feature_set | safe  }}
    idcs_access_token = {{ idcs_access_token | safe }}
    license_type = {{ license_type | safe  }}
    network_endpoint_type = {{ network_endpoint_type | safe }}

    # Optional
    display_name   = {{ display_name | safe }}
    description = {{ instance_description | safe }}
    email_notification = {{ instance_email_notification }}
    {% if defined_tags is defined %}
    defined_tags   = {{ defined_tags | safe }}
    {% endif %}
    {% if freeform_tags is defined %}
    freeform_tags  = {{ freeform_tags | safe }}
    {% endif %}
    subnet_id = {{ subnet_id | safe }}
    vcn_id = {{ vcn_id  | safe }}
    whitelisted_ips = {{ whitelisted_ips | safe }}
    whitelisted_vcns = {{ whitelisted_vcns | safe }}
    
}

locals {
    {{ resource_name }} = oci_core_analytics.{{ resource_name }}.id
}